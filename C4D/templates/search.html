{% extends "admin/base.html" %}

{% block content %}

{% if search_results %}
<h3>Search Criteria <strong onclick='toggleSearchForm(); return false' class='search-icon'>[-]</strong></h3>
<div class='search-field'>
  <form action="." method="post">
      {% csrf_token %}
      <!-- <table> -->
      <!-- {{ search_form.as_table } -->
      <!-- </table> -->

      <input type="submit" value="Search" />
  </form>
</div>
<h2>Search Results ({{ search_results.count }})</h2>
<table>
  <tr>
    <th>ID</th>
    <th>Office</th>
    <th>Island</th>
    <th>Document Date</th>
    <th>Recording Date</th>
    <th>Legal Description</th>
    <th>Lot</th>
    <th>Block</th>
    <th>Tract</th>
    <th>Grantor</th>
    <th>Grantee</th>
  </tr>
  {% for r in search_results %}
    <tr class="{% cycle 'row-even' 'row-odd' %}">
      <td><a href="{% url 'view_record' r.id %}">{{ r.id }}</a></td>
      <td>{{ r.office }}</td>
      <td>{{ r.island }}</td>
      <td>{{ r.document_date }}</td>
      <td>{{ r.recording_date }}</td>
      <td>{{ r.legal_description }}</td>
      <td>{{ r.lot }}</td>
      <td>{{ r.block }}</td>
      <td>{{ r.tract }}</td>
      <td>{{ r.grantor }}</td>
      <td>{{ r.grantee }}</td>
    </tr>
  {% endfor %}
</table>
{% else %}
  <h1>Search Criteria</h1>
  <form name='search_form' action="." method="post">
      {% csrf_token %}
      <table>
      {{ search_form.as_table }}
      </table>
      <!-- <div class='form-group'>
        <label for='legal_description'>Legal Description</label>
        <input class='form-input' type='text' name='legal_description' maxlength="100"/>
        <input class='radio-btn' type='radio' value='ld-contains' checked=true name='ld-params'/> Contains
        <input class='radio-btn' type='radio' value='ld-starts' name='ld-params'/> Starts with
        <input class='radio-btn' type='radio' value='ld-equals' name='ld-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='lot'>Lot</label>
        <input class='form-input' type='text' name='lot' maxlength="100" />
        <input class='radio-btn' type='radio' value='lot-contains' checked=true name='lot-params'/> Contains
        <input class='radio-btn' type='radio' value='lot-starts' name='lot-params'/> Starts with
        <input class='radio-btn' type='radio' value='lot-equals' name='lot-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='block'>Block</label>
        <input class='form-input' type='text' name='block' maxlength="100"/>
        <input class='radio-btn' type='radio' value='block-contains' checked=true name='block-params'/> Contains
        <input class='radio-btn' type='radio' value='block-starts' name='block-params'/> Starts with
        <input class='radio-btn' type='radio' value='block-equals' name='block-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='tract'>Tract</label>
        <input class='form-input' type='text' name='tract' maxlength="100"/>
        <input class='radio-btn' type='radio' value='tract-contains' checked=true name='tract-params'/> Contains
        <input class='radio-btn' type='radio' value='tract-starts' name='tract-params'/> Starts with
        <input class='radio-btn' type='radio' value='tract-equals' name='tract-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='grantor'>Grantor</label>
        <input class='form-input' type='text' name='Grantor' maxlength="100"/>
        <input class='radio-btn' type='radio' value='grantor-contains' checked=true name='grantor-params'/> Contains
        <input class='radio-btn' type='radio' value='grantor-starts' name='grantor-params'/> Starts with
        <input class='radio-btn' type='radio' value='grantor-equals' name='grantor-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='grantee'>Grantee</label>
        <input class='form-input' type='text' name='grantee' maxlength="100"/>
        <input class='radio-btn' type='radio' value='grantee-contains' checked=true  name='grantee-params'/> Contains
        <input class='radio-btn' type='radio' value='grantee-starts' name='grantee-params'/> Starts with
        <input class='radio-btn' type='radio' value='grantee-equals' name='grantee-params'/> Equals
      </div>
      <div class='form-group'>
        <label for='document_date'>Document Date</label>
        <input class='form-input' type='date' name='document_date' maxlength="100"/>
        <input class='radio-btn' type='radio' value='dd-lte' name='dd-params'/> Less Than
        <input class='radio-btn' type='radio' value='dd-gte' name='dd-params' /> Greater Than
        <input class='radio-btn' type='radio' value='dd-equals' name='dd-params' checked=true/> Equals
      </div>
      <div class='form-group'>
        <label for='recording_date'>Recording Date</label>
        <input class='form-input' type='date' name='recording_date' maxlength="100"/>
        <input class='radio-btn' type='radio' value='rd-lte' name='rd-params'/> Less Than
        <input class='radio-btn' type='radio' value='rd-gte' name='rd-params'/> Greater Than
        <input class='radio-btn' type='radio' value='rd-equals' name='rd-params' checked=true/> Equals
      </div> -->
      <input type="submit" value="Search" />
  </form>

{% endif %}

{% endblock %}
